<link rel="icon" href="https://ru.siberianhealth.com/shopen/public/icon.svg" type="image/svg+xml">
<title>Делим текст</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Jost:wght@400;500;600;700;800;900&display=swap');
body{
margin:0;
padding:0;
font-family:Jost;
color:#333;
}
.qwer{
position:relative;
cursor:pointer;
float:left;
width:50%;
height:50vh;
}
.qwer:hover{
background:rgb(250,250,250);
}
.qwer div{
position:absolute;
top:50px;
left:50px;
right:50px;
}
#copied{
position:absolute;
bottom:50px;
width:100%;
text-align:center;
color:#F2685c;
display:none;
}
</style>
<div id="q" class="qwer">
	<div></div>
</div>
<div id="w" class="qwer">
	<div></div>
</div>
<div id="e" class="qwer">
	<div></div>
</div>
<div id="r" class="qwer">
	<div></div>
</div>
<div id="copied">Скопировано!</div>
<script src="https://code.jquery.com/jquery-3.7.1.js"></script>
<script>
$(document).on('paste',function(e){
	e.preventDefault();
	navigator.clipboard.readText().then(text=>{
		if(text.trim().replace(/\s+/g,'').match(/^\d+$/)){ //Это если просто сумму кидаешь
			$('#q div').html(new Date().toLocaleString('ru',{weekday:'long'})+' '+text.trim().replace(/\s+/g,'')+' ₽');
			$('#w div').html('К оплате '+text.trim().replace(/\s+/g,'')+' ₽<br>В наличии. Заказ готов к выдаче<br><br>Вы можете оплатить переводом по номеру 9030836525 (Игорь Викторович А.) на Сбер или Озон Банк (просьба прислать подтверждение оплаты)');
			$('#e div').html(new Date().toLocaleString('ru',{weekday:'long'})+' '+text.trim().replace(/\s+/g,'')+' ₽ ОТДАНО');
			$('#r div').html('К оплате '+text.trim().replace(/\s+/g,'')+' ₽<br>Заказ не готов к выдаче. Поступит в течение 1-2 недель. Мы сообщим, когда он будет готов<br><br>Вы можете оплатить переводом по номеру 9030836525 (Игорь Викторович А.) на Сбер или Озон Банк (просьба прислать подтверждение оплаты)');
		}else{ //А это если стараешься код на оплату скинуть
			$('#q div').html(text.trim().split('\r\nСрок действия')[0].replace('Стоимость:',new Date().toLocaleString('ru',{weekday:'long'})).replace('\r\nНомер QR-кода: ',' (#').replace('\r\n','<br>')+')');
			$('#w div').html(text.trim().replace('Стоимость:','К оплате').match(/К оплате \d+/g)+'<br>Ссылка на оплату'+text.split('Ссылка на оплату')[1].trim().replace('\r\n','<br>')+'<br><br>В наличии. Заказ готов к выдаче');
			$('#e div').html(text.trim().split('\r\nСрок действия')[0].replace('Стоимость:',new Date().toLocaleString('ru',{weekday:'long'})).replace('\r\nНомер QR-кода: ',' (#').replace('\r\n','<br>')+') ОТДАНО');
			$('#r div').html(text.trim().replace('Стоимость:','К оплате').match(/К оплате \d+/g)+'<br>Ссылка на оплату'+text.split('Ссылка на оплату')[1].trim().replace('\r\n','<br>')+'<br><br>Заказ не готов к выдаче. Поступит в течение 1-2 недель. Мы сообщим, когда он будет готов');
		}
	}).catch(err=>{
		console.log('Опять чё-то не так',err);
	});
});
$('.qwer').click(function(){
	var t=$(this).attr('id');
	if($('#'+t+' div').text()!=''){
		navigator.clipboard.writeText(((t!='q'||'w')?'\n\n':'')+$('#'+t+' div').html().replace(/\&amp\;/g,'&').replace(/\<br\>/g,'\n').trim());
		$('#copied').fadeIn(100).fadeOut(1000);
	}
});
</script>
